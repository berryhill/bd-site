@import "tailwindcss";

/* ALGORITHMIC BRUTALISM THEME */

:root,
html[data-theme="light"] {
  --background: #ffffff;
  --foreground: #000000;
  --accent: #0000EE;
  --muted: #cccccc;
  --border: #000000;
  --highlight: #ffff00;
  --card-bg: #ffffff;
  --foreground-muted: #666666;
  --muted-bg: #f5f5f5;
}

html[data-theme="dark"] {
  --background: #000000;
  --foreground: #00ff00;
  --accent: #00ffff;
  --muted: #003300;
  --border: #00ff00;
  --highlight: #ff00ff;
  --card-bg: #001100;
  --foreground-muted: #00cc00;
  --muted-bg: #001100;
}

@layer base {
  * {
    font-family: 'Courier New', Courier, 'Lucida Console', monospace !important;
    transition: none !important;
    animation: none !important;
  }

  html {
    overflow-y: scroll;
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-size: 16px;
    line-height: 1.4;
    min-height: 100vh;
    background-image:
      repeating-linear-gradient(0deg, transparent, transparent 19px, #e0e0e0 19px, #e0e0e0 20px),
      repeating-linear-gradient(90deg, transparent, transparent 19px, #e0e0e0 19px, #e0e0e0 20px);
    background-size: 20px 20px;
  }

  h1 {
    font-size: clamp(36px, 8vw, 72px);
    font-weight: 900;
    line-height: 0.9;
    text-transform: uppercase;
    letter-spacing: -2px;
    margin: 20px 0;
  }

  h2 {
    font-size: clamp(28px, 6vw, 48px);
    font-weight: 900;
    line-height: 1;
    text-transform: uppercase;
    margin: 15px 0;
  }

  h3 {
    font-size: clamp(20px, 4vw, 32px);
    font-weight: 700;
    line-height: 1.1;
    margin: 10px 0;
  }

  a {
    color: var(--accent);
    text-decoration: underline;
  }

  a:visited {
    color: #551A8B;
  }

  a:hover {
    background: var(--highlight);
    color: var(--foreground);
    transform: translate(-2px, -2px);
    box-shadow: 2px 2px 0 var(--border);
    display: inline-block;
  }

  section {
    border: 3px solid var(--border);
    padding: 20px;
    margin: 20px auto;
    max-width: 1200px;
    background: var(--background);
  }

  *:focus-visible {
    outline: 4px solid var(--accent);
    outline-offset: 4px;
  }

  pre {
    font-family: 'Courier New', Courier, monospace !important;
    overflow-x: auto;
  }
}

/* Dark mode adjustments */
html[data-theme="dark"] body {
  background-image:
    repeating-linear-gradient(0deg, transparent, transparent 19px, #1a1a1a 19px, #1a1a1a 20px),
    repeating-linear-gradient(90deg, transparent, transparent 19px, #1a1a1a 19px, #1a1a1a 20px);
  text-shadow: 0 0 2px var(--foreground);
}

html[data-theme="dark"] a {
  text-shadow: 0 0 2px var(--accent);
}

html[data-theme="dark"] a:visited {
  color: #ff00ff;
}

html[data-theme="dark"] section {
  background: #001100;
}

/* Brutal spacing utilities */
@layer utilities {
  .space-brutal-1 { margin: 5px; }
  .space-brutal-2 { margin: 10px; }
  .space-brutal-3 { margin: 15px; }
  .space-brutal-4 { margin: 20px; }
  .space-brutal-5 { margin: 25px; }

  .algo-offset-1 { transform: translate(5px, -5px); }
  .algo-offset-2 { transform: translate(-5px, 5px); }
  .algo-offset-3 { transform: translate(10px, -10px); }

  .brutalist-grid-bg {
    background-image:
      linear-gradient(var(--border) 1px, transparent 1px),
      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 20px 20px;
    background-position: -1px -1px;
  }
}

@utility max-w-app {
  @apply max-w-3xl;
}

.active-nav {
  background: var(--highlight);
  color: var(--foreground);
  padding: 2px 4px;
}

/* Source: https://piccalil.li/blog/a-more-modern-css-reset/ */
/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}
